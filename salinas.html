<!DOCTYPE html>
<html lang="en">
<head>
    <title>Salinas</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container"></div>

    <div id="loading-overlay">
        <div class="spinner"></div>
        <p>¿Ya conocías las termales de Salinas?</p>
    </div>

    <div id="textOverlay1" class="text-overlay">Entrada salinas</div>
    <div id="textOverlay2" class="text-overlay">Muelle</div>
    <div id="textOverlay3" class="text-overlay">Lago</div>

    <h1></h1>
    
    <div id="content"></div>

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <video id="video" width="400" controls loop>
                <source src="./videos/cabaña.mp4" type="video/mp4">
            </video>
        </div>
    </div>

    <div class="off-screen-menu">
        <ul>
            <li><a href="#"><img src="./textures/VR.png"/></a></li>
            <li><a href="#"><img src="./textures/muted.png" /></a></li>
            <li><a href="#" id="expand-btn"><img class="normal" src="./textures/fullscreen.png" data-alt-src="./textures/reducescreen.png" /></a></li>

            <li><a href="#" class="share-x"><img src="./textures/x.png"/></a></li>
            <li><a href="#" class="share-facebook"><img src="./textures/f.png"/></a></li>
            <li><a href="#" class="share-instagram"><img src="./textures/ig.png"/></a></li>
        </ul>
    </div>

    <nav>
        <div class="ham-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <script type="importmap">
        {
           "imports": {
              "three": "https://unpkg.com/three@0.159.0/build/three.module.js",
              "three/addons/": "./jsm/"                  
           }
        }
    </script>
   
    <script type="module" src="./salinas.js"></script> 

    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const pagesToPreload = ['muelle.html','entradasal.html','lago.html']; 
            pagesToPreload.forEach(page => {
            const nextPage = document.createElement('link');
            nextPage.rel = 'prefetch';
            nextPage.href = page;
            document.head.appendChild(nextPage);
        });});
    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(window).on('load', function() {
            $('#loading-overlay').fadeOut('slow'); 
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loadingOverlay = document.getElementById('loading-overlay');
            loadingOverlay.addEventListener('click', function() {
                loadingOverlay.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';
            });
        });
    </script>

    <script>
        const hamMenu = document.querySelector(".ham-menu");
        const offScreenMenu = document.querySelector(".off-screen-menu");
    
        hamMenu.addEventListener("click", () => {
        hamMenu.classList.toggle("active");
        offScreenMenu.classList.toggle("active");
        });

        document.addEventListener('DOMContentLoaded', function() {
            
            var expandBtn = document.getElementById('expand-btn');
            // Obtener referencia a la imagen dentro del botón
            var expandBtnImg = expandBtn.querySelector('img');

            // Evento de clic para el botón de expansión
            expandBtn.addEventListener('click', function(event) {
                event.preventDefault(); // Evita el comportamiento predeterminado del enlace

                // Obtener el elemento a expandir
                var element = document.documentElement;

                // Si ya está en modo de pantalla completa, sal de pantalla completa
                if (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) {
                    exitFullscreen();
                } else { // Si no está en modo de pantalla completa, entra en pantalla completa
                    enterFullscreen();
                }
            });

            // Función para entrar en el modo de pantalla completa
            function enterFullscreen() {
                var element = document.documentElement;
                if (element.requestFullscreen) {
                    element.requestFullscreen();
                } else if (element.webkitRequestFullscreen) {
                    element.webkitRequestFullscreen();
                } else if (element.mozRequestFullScreen) {
                    element.mozRequestFullScreen();
                } else if (element.msRequestFullscreen) {
                    element.msRequestFullscreen();
                }
            }

            // Función para salir del modo de pantalla completa
            function exitFullscreen() {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }

            // Evento para detectar el cambio de estado de pantalla completa
            document.addEventListener('fullscreenchange', handleFullscreenChange);
            document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
            document.addEventListener('mozfullscreenchange', handleFullscreenChange);
            document.addEventListener('MSFullscreenChange', handleFullscreenChange);

            // Función para manejar el cambio de estado de pantalla completa
            function handleFullscreenChange() {
                // Verificar si estamos en modo de pantalla completa
                var isFullscreen = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
                
                // Actualizar la imagen del botón según el estado de pantalla completa
                if (isFullscreen) {
                    expandBtnImg.src = expandBtnImg.getAttribute('data-alt-src');
                } else {
                    expandBtnImg.src = expandBtnImg.getAttribute('data-original-src');
                }
            }
            


            document.querySelector('.share-x').addEventListener('click', function(event) {
                event.preventDefault(); // Evita el comportamiento predeterminado del enlace

                // Abre la ventana de compartir de Twitter
            window.open('https://x.com/share?url=' + encodeURIComponent(window.location.href), 'Compartir en Twitter', 'width=600,height=400');
            });

            // Evento de clic para el enlace de Facebook
            document.querySelector('.share-facebook').addEventListener('click', function(event) {
                event.preventDefault(); // Evita el comportamiento predeterminado del enlace

                // Abre la ventana de compartir de Facebook
                window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(window.location.href), 'Compartir en Facebook', 'width=600,height=400');
            });

            // Evento de clic para el enlace de Instagram
            document.querySelector('.share-instagram').addEventListener('click', function(event) {
                event.preventDefault(); // Evita el comportamiento predeterminado del enlace

                // Abre la ventana de compartir de Instagram
                window.open('https://www.instagram.com/viajessinlimitespopayan?u=' + encodeURIComponent(window.location.href), 'Compartir en Instagram', 'width=600,height=400');
            });
        });


    </script>
</body> 
</html>
